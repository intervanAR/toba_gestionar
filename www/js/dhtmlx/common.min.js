function d5DragAndDropObject(){return window.d5DragAndDrop?window.d5DragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.d5DragAndDrop=this,this)}if(void 0===window.dhx&&(window.dhx=window.dhx4={version:"5.1.0",skin:null,skinDetect:function(t){return{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace",40:"material"}[10*Math.floor(dhx4.readFromCss(t+"_skin_detect")/10)]||null},readFromCss:function(t,e,n){var r=document.createElement("DIV");r.className=t,null!=document.body.firstChild?document.body.insertBefore(r,document.body.firstChild):document.body.appendChild(r),"string"==typeof n&&(r.innerHTML=n);var a=r[e||"offsetWidth"];return r.parentNode.removeChild(r),r=null,a},lastId:1,newId:function(){return this.lastId++},zim:{data:{},step:5,first:function(){return 100},last:function(){var t=this.first();for(var e in this.data)t=Math.max(t,this.data[e]);return t},reserve:function(t){return this.data[t]=this.last()+this.step,this.data[t]},clear:function(t){null!=this.data[t]&&(this.data[t]=null,delete this.data[t])}},s2b:function(t){return"string"==typeof t&&(t=t.toLowerCase()),1==t||1==t||"true"==t||"1"==t||"yes"==t||"y"==t||"on"==t},s2j:function(s){var obj=null;dhx4.temp=null;try{eval("dhx4.temp="+s)}catch(t){dhx4.temp=null}return obj=dhx4.temp,dhx4.temp=null,obj},absLeft:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).left},absTop:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).top},_aOfs:function(t){for(var e=0,n=0;t;)e+=parseInt(t.offsetTop),n+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:e,left:n}},_aOfsRect:function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,a=window.pageYOffset||r.scrollTop||n.scrollTop,o=window.pageXOffset||r.scrollLeft||n.scrollLeft,d=r.clientTop||n.clientTop||0,i=r.clientLeft||n.clientLeft||0,l=e.top+a-d,s=e.left+o-i;return{top:Math.round(l),left:Math.round(s)}},getOffset:function(t){return t.getBoundingClientRect?this._aOfsRect(t):this._aOfs(t)},_isObj:function(t){return null!=t&&"object"==typeof t&&void 0===t.length},_copyObj:function(t){if(this._isObj(t)){var e={};for(var n in t)"object"==typeof t[n]&&null!=t[n]?e[n]=this._copyObj(t[n]):e[n]=t[n]}else for(e=[],n=0;n<t.length;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=this._copyObj(t[n]):e[n]=t[n];return e},screenDim:function(){var t=navigator.userAgent.indexOf("MSIE")>=0,e={};return e.left=document.body.scrollLeft,e.right=e.left+(window.innerWidth||document.body.clientWidth),e.top=Math.max((t?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),e.bottom=e.top+(t?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0):window.innerHeight),e},selectTextRange:function(t,e,n){var r=(t="string"==typeof t?document.getElementById(t):t).value.length;if(e=Math.max(Math.min(e,r),0),n=Math.min(n,r),t.setSelectionRange)try{t.setSelectionRange(e,n)}catch(t){}else if(t.createTextRange){var a=t.createTextRange();a.moveStart("character",e),a.moveEnd("character",n-r);try{a.select()}catch(t){}}},transData:null,transDetect:function(){if(null==this.transData){this.transData={transProp:!1,transEv:null};var t={MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"transitionend",transition:"transitionend"};for(var e in t)0==this.transData.transProp&&null!=document.documentElement.style[e]&&(this.transData.transProp=e,this.transData.transEv=t[e]);t=null}return this.transData},_xmlNodeValue:function(t){for(var e="",n=0;n<t.childNodes.length;n++)e+=null!=t.childNodes[n].nodeValue?t.childNodes[n].nodeValue.toString().replace(/^[\n\r\s]{0,}/,"").replace(/[\n\r\s]{0,}$/,""):"";return e}},window.dhx4.isIE=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE6=null==window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,window.dhx4.isIE7=navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,window.dhx4.isIE8=navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE9=navigator.userAgent.indexOf("MSIE 9.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,window.dhx4.isIE10=navigator.userAgent.indexOf("MSIE 10.0")>=0&&navigator.userAgent.indexOf("Trident")>=0&&1!=window.navigator.pointerEnabled,window.dhx4.isIE11=navigator.userAgent.indexOf("Trident")>=0&&1==window.navigator.pointerEnabled,window.dhx4.isEdge=navigator.userAgent.indexOf("Edge")>=0,window.dhx4.isOpera=navigator.userAgent.indexOf("Opera")>=0,window.dhx4.isChrome=navigator.userAgent.indexOf("Chrome")>=0&&!window.dhx4.isEdge,window.dhx4.isKHTML=(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0)&&!window.dhx4.isEdge,window.dhx4.isFF=navigator.userAgent.indexOf("Firefox")>=0,window.dhx4.isIPad=navigator.userAgent.search(/iPad/gi)>=0,window.dhx4.dnd={evs:{},p_en:(window.dhx4.isIE||window.dhx4.isEdge)&&(window.navigator.pointerEnabled||window.navigator.msPointerEnabled),_mTouch:function(t){return window.dhx4.isIE10&&t.pointerType==t.MSPOINTER_TYPE_MOUSE||window.dhx4.isIE11&&"mouse"==t.pointerType||window.dhx4.isEdge&&"mouse"==t.pointerType},_touchOn:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="",t=null},_touchOff:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="none",t=null}},1==window.navigator.pointerEnabled?window.dhx4.dnd.evs={start:"pointerdown",move:"pointermove",end:"pointerup"}:1==window.navigator.msPointerEnabled?window.dhx4.dnd.evs={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:void 0!==window.addEventListener&&(window.dhx4.dnd.evs={start:"touchstart",move:"touchmove",end:"touchend"})),void 0===window.dhx4.template&&(window.dhx4.trim=function(t){return String(t).replace(/^\s{1,}/,"").replace(/\s{1,}$/,"")},window.dhx4.template=function(t,e,n){return t.replace(/#([a-z0-9_-]{1,})(\|([^#]*))?#/gi,function(){var t=arguments[1],r=window.dhx4.trim(arguments[3]),a=null,o=[e[t]];if(r.length>0){r=r.split(":");for(var d=[],i=0;i<r.length;i++)i>0&&null!=d[d.length-1].match(/\\$/)?d[d.length-1]=d[d.length-1].replace(/\\$/,"")+":"+r[i]:d.push(r[i]);a=d[0];for(i=1;i<d.length;i++)o.push(d[i])}return"string"==typeof a&&"function"==typeof window.dhx4.template[a]?window.dhx4.template[a].apply(window.dhx4.template,o):t.length>0&&void 0!==e[t]?1==n?window.dhx4.trim(e[t]):String(e[t]):""})},window.dhx4.template.date=function(t,e){return null!=t?t instanceof Date?window.dhx4.date2str(t,e):null!=(t=t.toString()).match(/^\d*$/)?window.dhx4.date2str(new Date(parseInt(t)),e):t:""},window.dhx4.template.maxlength=function(t,e){return String(t).substr(0,e)},window.dhx4.template.number_format=function(t,e,n,r){var a=window.dhx4.template._parseFmt(e,n,r);return 0==a?t:window.dhx4.template._getFmtValue(t,a)},window.dhx4.template.lowercase=function(t){return void 0!==t&&null!=t||(t=""),String(t).toLowerCase()},window.dhx4.template.uppercase=function(t){return void 0!==t&&null!=t||(t=""),String(t).toUpperCase()},window.dhx4.template._parseFmt=function(t,e,n){var r=t.match(/^([^\.\,0-9]*)([0\.\,]*)([^\.\,0-9]*)/);if(null==r||4!=r.length)return!1;var a={i_len:!1,i_sep:"string"==typeof e?e:",",d_len:!1,d_sep:"string"==typeof n?n:".",s_bef:"string"==typeof r[1]?r[1]:"",s_aft:"string"==typeof r[3]?r[3]:""},o=r[2].split(".");null!=o[1]&&(a.d_len=o[1].length);var d=o[0].split(",");return d.length>1&&(a.i_len=d[d.length-1].length),a},window.dhx4.template._getFmtValue=function(value,fmt){var r=String(value).match(/^(-)?([0-9]{1,})(\.([0-9]{1,}))?$/);if(null!=r&&5==r.length){var v0="";if(null!=r[1]&&(v0+=r[1]),v0+=fmt.s_bef,!1!==fmt.i_len){for(var i=0,v1="",q=r[2].length-1;q>=0;q--)v1=""+r[2].charAt(q)+v1,++i==fmt.i_len&&q>0&&(v1=fmt.i_sep+v1,i=0);v0+=v1}else v0+=r[2];if(!1!==fmt.d_len){for(null==r[4]&&(r[4]="");r[4].length<fmt.d_len;)r[4]+="0";eval("dhx4.temp = new RegExp(/\\d{"+fmt.d_len+"}/);");var t1=r[4].match(dhx4.temp);null!=t1&&(v0+=fmt.d_sep+t1),dhx4.temp=t1=null}return v0+=fmt.s_aft,v0}return value}),void 0===window.dhx4.dateLang&&(window.dhx4.dateLang="en",window.dhx4.dateStrings={en:{monthFullName:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShortName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFullName:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShortName:["Su","Mo","Tu","We","Th","Fr","Sa"]}},window.dhx4.dateFormat={en:"%Y-%m-%d"},window.dhx4.date2str=function(t,e,n){if(null!=e&&void 0!==e||(e=window.dhx4.dateFormat[window.dhx4.dateLang]),null!=n&&void 0!==n||(n=window.dhx4.dateStrings[window.dhx4.dateLang]),t instanceof Date)var r=function(t){return 1==String(t).length?"0"+String(t):t},a=String(e||window.dhx4.dateFormat).replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return r(t.getDate());case"%j":return t.getDate();case"%D":return n.dayShortName[t.getDay()];case"%l":return n.dayFullName[t.getDay()];case"%m":return r(t.getMonth()+1);case"%n":return t.getMonth()+1;case"%M":return n.monthShortName[t.getMonth()];case"%F":return n.monthFullName[t.getMonth()];case"%y":return r(t.getYear()%100);case"%Y":return t.getFullYear();case"%g":return(t.getHours()+11)%12+1;case"%h":return r((t.getHours()+11)%12+1);case"%G":return t.getHours();case"%H":return r(t.getHours());case"%i":return r(t.getMinutes());case"%s":return r(t.getSeconds());case"%a":return t.getHours()>11?"pm":"am";case"%A":return t.getHours()>11?"PM":"AM";case"%%":return"%";case"%u":return t.getMilliseconds();case"%P":if(null!=window.dhx4.temp_calendar&&null!=window.dhx4.temp_calendar.tz)return window.dhx4.temp_calendar.tz;var a=t.getTimezoneOffset(),o=Math.abs(Math.floor(a/60)),d=Math.abs(a)-60*o;return(a>0?"-":"+")+r(o)+":"+r(d);default:return e}});return a||String(t)},window.dhx4.str2date=function(t,e,n){null!=e&&void 0!==e||(e=window.dhx4.dateFormat[window.dhx4.dateLang]),null!=n&&void 0!==n||(n=window.dhx4.dateStrings[window.dhx4.dateLang]),e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\\:|]/g,"\\$&");var r=[],a=[];e=e.replace(/%[a-z]/gi,function(t){switch(t){case"%d":case"%m":case"%y":case"%h":case"%H":case"%i":case"%s":return a.push(t),"(\\d{2})";case"%D":case"%l":case"%M":case"%F":return a.push(t),"([a-zéûäа-яё]{1,})";case"%j":case"%n":case"%g":case"%G":return a.push(t),"(\\d{1,2})";case"%Y":return a.push(t),"(\\d{4})";case"%a":return a.push(t),"([a|p]m)";case"%A":return a.push(t),"([A|P]M)";case"%u":return a.push(t),"(\\d{1,6})";case"%P":return a.push(t),"([+-]\\d{1,2}:\\d{1,2})"}return t});var o=new RegExp(e,"i"),d=t.match(o);if(null==d||d.length-1!=a.length)return"Invalid Date";for(var i=1;i<d.length;i++)r.push(d[i]);var l={"%y":1,"%Y":1,"%n":2,"%m":2,"%M":2,"%F":2,"%d":3,"%j":3,"%a":4,"%A":4,"%H":5,"%G":5,"%h":5,"%g":5,"%i":6,"%s":7,"%u":7,"%P":7},s={},u={};for(i=0;i<a.length;i++)if(void 0!==l[a[i]]){var h=l[a[i]];s[h]||(s[h]=[],u[h]=[]),s[h].push(r[i]),u[h].push(a[i])}r=[],a=[];for(i=1;i<=7;i++)if(null!=s[i])for(var c=0;c<s[i].length;c++)r.push(s[i][c]),a.push(u[i][c]);var g=new Date;g.setDate(1),g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0);var f=function(t,e){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()==t)return n;return-1};for(i=0;i<r.length;i++)switch(a[i]){case"%d":case"%j":case"%n":case"%m":case"%Y":case"%H":case"%G":case"%i":case"%s":case"%u":isNaN(r[i])||g[{"%d":"setDate","%j":"setDate","%n":"setMonth","%m":"setMonth","%Y":"setFullYear","%H":"setHours","%G":"setHours","%i":"setMinutes","%s":"setSeconds","%u":"setMilliseconds"}[a[i]]](Number(r[i])+("%m"==a[i]||"%n"==a[i]?-1:0));break;case"%M":case"%F":var p=f(r[i].toLowerCase(),n[{"%M":"monthShortName","%F":"monthFullName"}[a[i]]]);p>=0&&g.setMonth(p);break;case"%y":if(!isNaN(r[i])){var m=Number(r[i]);g.setFullYear(m+(m>50?1900:2e3))}break;case"%g":case"%h":if(!isNaN(r[i]))(m=Number(r[i]))<=12&&m>=0&&g.setHours(m+(f("pm",r)>=0?12==m?0:12:12==m?-12:0));break;case"%P":null!=window.dhx4.temp_calendar&&(window.dhx4.temp_calendar.tz=r[i])}return g}),void 0===window.dhx4.ajax&&(window.dhx4.ajax={cache:!1,method:"get",parse:function(t){if("string"!=typeof t)return t;if(t=t.replace(/^[\s]+/,""),window.DOMParser&&!dhx4.isIE)var e=(new window.DOMParser).parseFromString(t,"text/xml");else if(window.ActiveXObject!==window.undefined){(e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)}return e},xmltop:function(t,e,n){if((void 0===e.status||e.status<400)&&(xml=e.responseXML?e.responseXML||e:dhx4.ajax.parse(e.responseText||e),xml&&null!==xml.documentElement))try{if(!xml.getElementsByTagName("parsererror").length)return xml.getElementsByTagName(t)[0]}catch(t){}return-1!==n&&dhx4.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),!dhx4.isIE){for(var n,r=[],a=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);n=a.iterateNext();)r.push(n);return r}try{return e.selectNodes(t)||[]}catch(t){return[]}},query:function(t){return dhx4.ajax._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,null,t.headers)},get:function(t,e){return this._call("GET",t,null,!0,e)},getSync:function(t){return this._call("GET",t,null,!1)},put:function(t,e,n){return this._call("PUT",t,e,!0,n)},del:function(t,e,n){return this._call("DELETE",t,e,!0,n)},post:function(t,e,n){return 1==arguments.length?e="":2!=arguments.length||"function"!=typeof e&&"function"!=typeof window[e]?e=String(e):(n=e,e=""),this._call("POST",t,e,!0,n)},postSync:function(t,e){return e=null==e?"":String(e),this._call("POST",t,e,!1)},getLong:function(t,e){this._call("GET",t,null,!0,e,{url:t})},postLong:function(t,e,n){2!=arguments.length||"function"!=typeof e&&(window[e],0)||(n=e,e=""),this._call("POST",t,e,!0,n,{url:t,postData:e})},_call:function(t,e,n,r,a,o,d){if("object"==typeof n){var i=[];for(var l in n)i.push(l+"="+encodeURIComponent(n[l]));n=i.join("&")}var s=dhx.promise.defer(),u=window.XMLHttpRequest&&!dhx4.isIE?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),h=null!=navigator.userAgent.match(/AppleWebKit/)&&null!=navigator.userAgent.match(/Qt/)&&null!=navigator.userAgent.match(/Safari/);if(1==r&&(u.onreadystatechange=function(){if(4==u.readyState||1==h&&3==u.readyState){if((200!=u.status||""==u.responseText)&&(s.reject(u),!dhx4.callEvent("onAjaxError",[{xmlDoc:u,filePath:e,async:r}])))return;window.setTimeout(function(){if("function"==typeof a){try{a.apply(window,[{xmlDoc:u,filePath:e,async:r}])}catch(t){s.reject(t)}s.resolve(u.responseText)}null!=o&&(void 0!==o.postData?dhx4.ajax.postLong(o.url,o.postData,a):dhx4.ajax.getLong(o.url,a)),a=null,u=null},1)}}),"GET"==t&&(e+=this._dhxr(e)),u.open(t,e,r),null!=d)for(var c in d)u.setRequestHeader(c,d[c]);else"POST"==t||"PUT"==t||"DELETE"==t?u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==t&&(n=null);return u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.send(n),1!=r&&(4==u.readyState||1==h&&3==u.readyState)&&(200==u.status&&""!=u.responseText||dhx4.callEvent("onAjaxError",[{xmlDoc:u,filePath:e,async:r}])),s.xmlDoc=u,s.filePath=e,s.async=r,s},_dhxr:function(t,e){return 1!=this.cache?(null==t.match(/^[\?\&]$/)&&(t=t.indexOf("?")>=0?"&":"?"),void 0===e&&(e=!0),t+"dhxr"+(new Date).getTime()+(1==e?"=1":"")):""}}),void 0===window.dhx4._enableDataLoading&&(window.dhx4._enableDataLoading=function(t,e,n,r,a){if("clear"==a){for(var o in t._dhxdataload)t._dhxdataload[o]=null,delete t._dhxdataload[o];return t._loadData=null,t._dhxdataload=null,t.load=null,t.loadStruct=null,void(t=null)}if(t._dhxdataload={initObj:e,xmlToJson:n,xmlRootTag:r,onBeforeXLS:null},t._loadData=function(t,e,n){2==arguments.length&&(n=e,e=null);var r=null;if(3==arguments.length&&(n=arguments[2]),this.callEvent("onXLS",[]),"string"==typeof t){var a=t.replace(/^\s{1,}/,"").replace(/\s{1,}$/,"");if(new RegExp("^<"+this._dhxdataload.xmlRootTag).test(a.replace(/^<\?xml[^\?]*\?>\s*/,""))&&null!=(r=dhx4.ajax.parse(t))&&(r=this[this._dhxdataload.xmlToJson].apply(this,[r])),null!=r||null==a.match(/^[\s\S]*{[.\s\S]*}[\s\S]*$/)&&null==a.match(/^[\s\S]*\[[.\s\S]*\][\s\S]*$/)||(r=dhx4.s2j(a)),null==r){var o=[];if("function"==typeof this._dhxdataload.onBeforeXLS)if(null!=(a=this._dhxdataload.onBeforeXLS.apply(this,[t]))&&"object"==typeof a&&(null!=a.url&&(t=a.url),null!=a.params))for(var d in a.params)o.push(d+"="+encodeURIComponent(a.params[d]));var i=this,l=function(e){var r=null;null!=(r=(e.xmlDoc.getResponseHeader("Content-Type")||"").search(/xml/gi)>=0||null!=e.xmlDoc.responseText.replace(/^\s{1,}/,"").match(/^</)?i[i._dhxdataload.xmlToJson].apply(i,[e.xmlDoc.responseXML]):dhx4.s2j(e.xmlDoc.responseText))&&i[i._dhxdataload.initObj].apply(i,[r,t]),i.callEvent("onXLE",[]),null!=n&&("function"==typeof n?n.apply(i,[]):"function"==typeof window[n]&&window[n].apply(i,[])),l=n=null,r=e=i=null};return o=o.join("&")+("string"==typeof e?"&"+e:""),"post"==dhx4.ajax.method?dhx4.ajax.post(t,o,l):"get"==dhx4.ajax.method?dhx4.ajax.get(t+(o.length>0?(t.indexOf("?")>0?"&":"?")+o:""),l):void 0}}else r="object"==typeof t.documentElement||void 0!==t.tagName&&void 0!==t.getElementsByTagName&&t.getElementsByTagName(this._dhxdataload.xmlRootTag).length>0?this[this._dhxdataload.xmlToJson].apply(this,[t]):window.dhx4._copyObj(t);null!=r&&this[this._dhxdataload.initObj].apply(this,[r]),this.callEvent("onXLE",[]),null!=n&&("function"==typeof n?n.apply(this,[]):"function"==typeof window[n]&&window[n].apply(this,[]),n=null)},null!=a){var d={struct:"loadStruct",data:"load"};for(var o in a)1==a[o]&&(t[d[o]]=function(){return this._loadData.apply(this,arguments)})}t=null}),void 0===window.dhx4._eventable&&(window.dhx4._eventable=function(t,e){if("clear"==e)return t.detachAllEvents(),t.dhxevs=null,t.attachEvent=null,t.detachEvent=null,t.checkEvent=null,t.callEvent=null,t.detachAllEvents=null,void(t=null);t.dhxevs={data:{}},t.attachEvent=function(t,e){t=String(t).toLowerCase(),this.dhxevs.data[t]||(this.dhxevs.data[t]={});var n=window.dhx4.newId();return this.dhxevs.data[t][n]=e,n},t.detachEvent=function(t){for(var e in this.dhxevs.data){var n=0;for(var r in this.dhxevs.data[e])r==t?(this.dhxevs.data[e][r]=null,delete this.dhxevs.data[e][r]):n++;0==n&&(this.dhxevs.data[e]=null,delete this.dhxevs.data[e])}},t.checkEvent=function(t){return t=String(t).toLowerCase(),null!=this.dhxevs.data[t]},t.callEvent=function(t,e){if(t=String(t).toLowerCase(),null==this.dhxevs.data[t])return!0;var n=!0;for(var r in this.dhxevs.data[t])n=this.dhxevs.data[t][r].apply(this,e)&&n;return n},t.detachAllEvents=function(){for(var t in this.dhxevs.data){for(var e in this.dhxevs.data[t])this.dhxevs.data[t][e]=null,delete this.dhxevs.data[t][e];this.dhxevs.data[t]=null,delete this.dhxevs.data[t]}},t=null},dhx4._eventable(dhx4)),window.d5xValidation||(d5xValidation=function(){},d5xValidation.prototype={isEmpty:function(t){return""==t},isNotEmpty:function(t){return t instanceof Array?t.length>0:""==!t},isValidBoolean:function(t){return!!t.toString().match(/^(0|1|true|false)$/)},isValidEmail:function(t){return!!t.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,5})$)/i)},isValidInteger:function(t){return!!t.toString().match(/(^-?\d+$)/)},isValidNumeric:function(t){return!!t.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(t){return!!t.toString().match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31&&e[4]<=59&&e[5]<=59&&e[6]<=59)||!1},isValidDate:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31)||!1},isValidTime:function(t){var e=t.toString().match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return e&&!!(e[1]<=24&&e[2]<=59&&e[3]<=59)||!1},isValidIPv4:function(t){var e=t.toString().match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return e&&!!(e[1]<=255&&e[2]<=255&&e[3]<=255&&e[4]<=255)||!1},isValidCurrency:function(t){return!!t.toString().match(/^\$?\s?\d+?([\.,\,]?\d+)?\s?\$?$/)},isValidSSN:function(t){return!!t.toString().match(/^\d{3}\-?\d{2}\-?\d{4}$/)},isValidSIN:function(t){return!!t.toString().match(/^\d{9}$/)}},d5xValidation=new d5xValidation),void 0===window.d5x&&(window.d5x={extend:function(t,e){for(var n in e)t[n]||(t[n]=e[n]);return t},extend_api:function(t,e,n){var r=window[t];r&&(window[t]=function(t){if(t&&"object"==typeof t&&!t.tagName){var n=r.apply(this,e._init?e._init(t):arguments);for(var a in d5x)e[a]&&this[e[a]](d5x[a]);for(var a in t)e[a]?this[e[a]](t[a]):0===a.indexOf("on")&&this.attachEvent(a,t[a])}else n=r.apply(this,arguments);return e._patch&&e._patch(this),n||this},window[t].prototype=r.prototype,n&&d5x.extend(window[t].prototype,n))},url:function(t){return-1!=t.indexOf("?")?"&":"?"}}),d5DragAndDropObject.prototype.removeDraggableItem=function(t){t.onmousedown=null,t.dragStarter=null,t.dragLanding=null},d5DragAndDropObject.prototype.addDraggableItem=function(t,e){t.onmousedown=this.preCreateDragCopy,t.dragStarter=e,this.addDragLanding(t,e)},d5DragAndDropObject.prototype.addDragLanding=function(t,e){t.dragLanding=e},d5DragAndDropObject.prototype.preCreateDragCopy=function(t){if(!t&&!window.event||2!=(t||event).button)return window.d5DragAndDrop.waitDrag?(window.d5DragAndDrop.waitDrag=0,document.body.onmouseup=window.d5DragAndDrop.tempDOMU,document.body.onmousemove=window.d5DragAndDrop.tempDOMM,!1):(window.d5DragAndDrop.dragNode&&window.d5DragAndDrop.stopDrag(t),window.d5DragAndDrop.waitDrag=1,window.d5DragAndDrop.tempDOMU=document.body.onmouseup,window.d5DragAndDrop.tempDOMM=document.body.onmousemove,window.d5DragAndDrop.dragStartNode=this,window.d5DragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.d5DragAndDrop.preCreateDragCopy,document.body.onmousemove=window.d5DragAndDrop.callDrag,window.d5DragAndDrop.downtime=(new Date).valueOf(),!(!t||!t.preventDefault)&&(t.preventDefault(),!1))},d5DragAndDropObject.prototype.callDrag=function(t){if(t||(t=window.event),dragger=window.d5DragAndDrop,!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(t,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,t),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var e=dragger.gldragNode;dragger.gldragNode.old&&(e=dragger.gldragNode.old),e.parentNode.removeChild(e);var n=dragger.dragNode.pWindow;if(e.pWindow&&e.pWindow.d5DragAndDrop.lastLanding&&e.pWindow.d5DragAndDrop.lastLanding.dragLanding._dragOut(e.pWindow.d5DragAndDrop.lastLanding),_isIE){var r=document.createElement("Div");r.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=r.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),n.d5DragAndDrop.dragNode=dragger.dragNode}if(dragger.dragNode.style.left=t.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=t.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",t.srcElement)a=t.srcElement;else var a=t.target;dragger.checkLanding(a,t)}},d5DragAndDropObject.prototype.calculateFramePosition=function(t){if(window.name){for(var e=parent.frames[window.name].frameElement.offsetParent,n=0,r=0;e;)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;if(parent.d5DragAndDrop){var a=parent.d5DragAndDrop.calculateFramePosition(1);n+=1*a.split("_")[0],r+=1*a.split("_")[1]}if(t)return n+"_"+r;this.fx=n,this.fy=r}return"0_0"},d5DragAndDropObject.prototype.checkLanding=function(t,e){t&&t.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=t,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e),this.lastLanding_scr=_isIE?e.srcElement:e.target):t&&"BODY"!=t.tagName?this.checkLanding(t.parentNode,e):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e),this.lastLanding=0,this._onNotFound&&this._onNotFound())},d5DragAndDropObject.prototype.stopDrag=function(t,e){if(dragger=window.d5DragAndDrop,!e){dragger.stopFrameRoute();var n=dragger.lastLanding;dragger.lastLanding=null,n&&n.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,n,_isIE?event.srcElement:t.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},d5DragAndDropObject.prototype.stopFrameRoute=function(t){t&&window.d5DragAndDrop.stopDrag(1,1);for(var e=0;e<window.frames.length;e++)try{window.frames[e]!=t&&window.frames[e].d5DragAndDrop&&window.frames[e].d5DragAndDrop.stopFrameRoute(window)}catch(t){}try{parent.d5DragAndDrop&&parent!=window&&parent!=t&&parent.d5DragAndDrop.stopFrameRoute(window)}catch(t){}},d5DragAndDropObject.prototype.initFrameRoute=function(t,e){t&&(window.d5DragAndDrop.preCreateDragCopy(),window.d5DragAndDrop.dragStartNode=t.d5DragAndDrop.dragStartNode,window.d5DragAndDrop.dragStartObject=t.d5DragAndDrop.dragStartObject,window.d5DragAndDrop.dragNode=t.d5DragAndDrop.dragNode,window.d5DragAndDrop.gldragNode=t.d5DragAndDrop.dragNode,window.document.body.onmouseup=window.d5DragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&e&&(!_isFF||_FFrv<1.8)&&window.d5DragAndDrop.calculateFramePosition());try{parent.d5DragAndDrop&&parent!=window&&parent!=t&&parent.d5DragAndDrop.initFrameRoute(window)}catch(t){}for(var n=0;n<window.frames.length;n++)try{window.frames[n]!=t&&window.frames[n].d5DragAndDrop&&window.frames[n].d5DragAndDrop.initFrameRoute(window,!t||e?1:0)}catch(t){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,(-1!=navigator.appVersion.indexOf("MSIE 8.0")||-1!=navigator.appVersion.indexOf("MSIE 9.0")||-1!=navigator.appVersion.indexOf("MSIE 10.0")||document.documentMode>7)&&"BackCompat"!=document.compatMode&&(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),void 0===window.d5xEvent)function d5xEvent(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}null==d5xEvent.touchDelay&&(d5xEvent.touchDelay=2e3),void 0===d5xEvent.initTouch&&(d5xEvent.initTouch=function(){var t,e,n,r;function a(){if(e){var n=document.createEvent("HTMLEvents");n.initEvent("dblclick",!0,!0),e.dispatchEvent(n),t=e=null}}d5xEvent(document.body,"touchstart",function(o){e=o.touches[0].target,n=o.touches[0].clientX,r=o.touches[0].clientY,t=window.setTimeout(a,d5xEvent.touchDelay)}),d5xEvent(document.body,"touchmove",function(a){t&&(Math.abs(a.touches[0].clientX-n)>50||Math.abs(a.touches[0].clientY-r)>50)&&(window.clearTimeout(t),t=e=!1)}),d5xEvent(document.body,"touchend",function(n){t&&(window.clearTimeout(t),t=e=!1)}),d5xEvent.initTouch=function(){}}),function(t){var e="undefined"!=typeof setImmediate?setImmediate:function(t){setTimeout(t,0)};function n(t,e){this.promise=this,this.state="pending",this.val=null,this.fn=t||null,this.er=e||null,this.next=[]}n.prototype.resolve=function(t){var n=this;"pending"===n.state&&(n.val=t,n.state="resolving",e(function(){n.fire()}))},n.prototype.reject=function(t){var n=this;"pending"===n.state&&(n.val=t,n.state="rejecting",e(function(){n.fire()}))},n.prototype.then=function(t,e){var r=new n(t,e);return this.next.push(r),"resolved"===this.state&&r.resolve(this.val),"rejected"===this.state&&r.reject(this.val),r},n.prototype.fail=function(t){return this.then(null,t)},n.prototype.finish=function(t){if(this.state=t,"resolved"===this.state)for(var e=0;e<this.next.length;e++)this.next[e].resolve(this.val);if("rejected"===this.state){for(e=0;e<this.next.length;e++)this.next[e].reject(this.val);if(!this.next.length)throw this.val}},n.prototype.thennable=function(t,e,n,r,a){if("object"==typeof(a=a||this.val)&&"function"==typeof t)try{var o=0;t.call(a,function(t){0==o++&&e(t)},function(t){0==o++&&n(t)})}catch(t){n(t)}else r(a)},n.prototype.fire=function(){var t,e=this;try{t=e.val&&e.val.then}catch(t){return e.val=t,e.state="rejecting",e.fire()}e.thennable(t,function(t){e.val=t,e.state="resolving",e.fire()},function(t){e.val=t,e.state="rejecting",e.fire()},function(n){if(e.val=n,"resolving"===e.state&&"function"==typeof e.fn)try{e.val=e.fn.call(void 0,e.val)}catch(t){return e.val=t,e.finish("rejected")}if("rejecting"===e.state&&"function"==typeof e.er)try{e.val=e.er.call(void 0,e.val),e.state="resolving"}catch(t){return e.val=t,e.finish("rejected")}if(e.val===e)return e.val=TypeError(),e.finish("rejected");e.thennable(t,function(t){e.val=t,e.finish("resolved")},function(t){e.val=t,e.finish("rejected")},function(t){e.val=t,"resolving"===e.state?e.finish("resolved"):e.finish("rejected")})})},n.prototype.done=function(){if(this.state=!this.next)throw this.val;return null},n.prototype.nodeify=function(t){return"function"==typeof t?this.then(function(e){try{t(null,e)}catch(t){setImmediate(function(){throw t})}return e},function(e){try{t(e)}catch(t){setImmediate(function(){throw t})}return e}):this},n.prototype.spread=function(t,e){return this.all().then(function(e){return"function"==typeof t&&t.apply(null,e)},e)},n.prototype.all=function(){var t=this;return this.then(function(e){var r=new n;if(!(e instanceof Array))return r.reject(TypeError),r;var a=0,o=e.length;function d(){++a===o&&r.resolve(e)}for(var i=0,l=e.length;i<l;i++){var s,u=e[i];try{s=u&&u.then}catch(t){r.reject(t);break}!function(n){t.thennable(s,function(t){e[n]=t,d()},function(t){r.reject(t)},function(){d()},u)}(i)}return r})};var r={all:function(t){var e=new n(null,null);return e.resolve(t),e.all()},defer:function(){return new n(null,null)},fcall:function(){var t=new n,e=Array.apply([],arguments),r=e.shift();try{var a=r.apply(null,e);t.resolve(a)}catch(e){t.reject(e)}return t},nfcall:function(){var t=new n,e=Array.apply([],arguments),r=e.shift();try{e.push(function(e,n){return e?t.reject(e):t.resolve(n)}),r.apply(null,e)}catch(e){t.reject(e)}return t}};t.promise=r}(dhx);
